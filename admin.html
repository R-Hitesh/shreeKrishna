<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel | Shree Krishna Enterprises</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
<!-- HEADER -->
<header class="header">
  <div class="navbar">
    <h1><span>Shree Krishna</span> Enterprises</h1>
    <nav>
      <a href="index.html"><i class="fas fa-home"></i> Home</a>
      <a href="food.html"><i class="fas fa-utensils"></i> Food</a>
      <a href="drink.html"><i class="fas fa-glass-martini-alt"></i> Drinks</a>
      <a href="admin.html"><i class="fas fa-user-cog"></i> Admin</a>
      <a href="cart.html"><i class="fas fa-shopping-cart"></i> Cart</a>
    </nav>
  </div>
</header>

<section class="admin-section">
  <h2>Add New Item</h2>
  <input type="text" id="itemName" placeholder="Name">
  <input type="text" id="itemImage" placeholder="Image URL">
  <input type="number" id="itemPrice" placeholder="Price">
  <select id="itemCategory">
    <option value="food">Food</option>
    <option value="drink">Drink</option>
  </select>
  <button onclick="addItem()">Add Item</button>
</section>

<section class="admin-section">
  <h2>Item List</h2>
  <div id="itemList"></div>
</section>

<footer class="footer">
  <p>© 2025 Shree Krishna Enterprises</p>
</footer>

<script>
function getItems(category) {
  return JSON.parse(localStorage.getItem(category)) || [];
}

function saveItems(category, items) {
  localStorage.setItem(category, JSON.stringify(items));
}

function addItem() {
  const name = document.getElementById("itemName").value;
  const image = document.getElementById("itemImage").value;
  const price = document.getElementById("itemPrice").value;
  const category = document.getElementById("itemCategory").value;

  if (!name || !image || !price) {
    alert("Please fill in all fields.");
    return;
  }

  const item = {
    id: Date.now(),
    name,
    image,
    price,
    category
  };

  const key = category === 'drink' ? 'drinkItems' : 'menuItems';
  const items = getItems(key);
  items.push(item);
  saveItems(key, items);

  alert("Item added successfully!");
  document.getElementById("itemName").value = "";
  document.getElementById("itemImage").value = "";
  document.getElementById("itemPrice").value = "";
  renderItems();
}

function deleteItem(id, category) {
  const key = category === 'drink' ? 'drinkItems' : 'menuItems';
  let items = getItems(key);
  items = items.filter(item => item.id !== id);
  saveItems(key, items);
  renderItems();
}

function renderItems() {
  const foodItems = getItems("menuItems");
  const drinkItems = getItems("drinkItems");
  const itemList = document.getElementById("itemList");
  itemList.innerHTML = "";

  const renderSection = (title, items, category) => {
    if (items.length === 0) return;
    const section = document.createElement("div");
    section.innerHTML = `<h3>${title}</h3>`;
    items.forEach(item => {
      const div = document.createElement("div");
      div.style.marginBottom = "10px";
      div.innerHTML = `
        <img src="${item.image}" alt="${item.name}" style="width: 80px; height: auto; border-radius: 6px; margin-right: 10px; vertical-align: middle;">
        <strong>${item.name}</strong> - ₹${item.price}
        <button onclick="deleteItem(${item.id}, '${category}')" class="delete-btn">Delete</button>
      `;
      section.appendChild(div);
    });
    itemList.appendChild(section);
  };

  renderSection("Food Items", foodItems, "food");
  renderSection("Drink Items", drinkItems, "drink");
}

window.onload = renderItems;
</script>

</body>
</html>
